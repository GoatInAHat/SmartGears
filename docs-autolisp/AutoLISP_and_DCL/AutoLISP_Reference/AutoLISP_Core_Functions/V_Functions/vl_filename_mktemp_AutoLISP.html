<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="reference-adsk" name="topic-type"/>
  <meta content="/view/OARX/2025/ENU/" name="helpsystempath"/>
  <meta content="OARX" name="product"/>
  <meta content="2025" name="release"/>
  <meta content="Developer" name="book"/>
  <meta content="AutoCAD-AutoLISP-Reference" name="component"/>
  <meta content="21/10/2024" name="created"/>
  <meta content="ACD=2025" name="applies-to"/>
  <meta content="ACAD_E=2025" name="applies-to"/>
  <meta content="AMECH_PP=2025" name="applies-to"/>
  <meta content="ARCHDESK=2025" name="applies-to"/>
  <meta content="BLDSYS=2025" name="applies-to"/>
  <meta content="CIV3D=2025" name="applies-to"/>
  <meta content="MAP=2025" name="applies-to"/>
  <meta content="PLNT3D=2025" name="applies-to"/>
  <meta content="PNID=2025" name="applies-to"/>
  <meta content="STRDET=2025" name="applies-to"/>
  <meta content="UTLDESN=2025" name="applies-to"/>
  <meta content="TRIDION" name="generatedby"/>
  <meta content="disable" name="user-comments"/>
  <meta content="Calculates a unique file name to be used for a temporary file" name="description"/>
  <meta content="VL-FILENAME-MKTEMP" name="contextid"/>
  <meta content="general" name="experiencelevel"/>
  <meta content="programmer" name="audience"/>
  <meta content="29/03/2023" name="modified"/>
  <meta content="autolisp" name="topic-subtype"/>
  <meta content="function" name="topic-subtype"/>
  <meta content="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D" name="topicid"/>
  <meta content="ENU" name="language"/>
  <title>
   vl-filename-mktemp (AutoLISP)
  </title>
  <link href="../../../../_assets/client-28da4093.css" rel="stylesheet" type="text/css"/>
 </head>
 <body id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D">
  <div class="head">
   <div class="head-block">
    <div class="button-info">
     <span id="infoline">
     </span>
    </div>
    <div class="ancestry">
    </div>
    <div class="head-text">
     <h1>
      vl-filename-mktemp (AutoLISP)
     </h1>
    </div>
   </div>
  </div>
  <div class="body referencebody-adsk">
   <p class="shortdesc">
    Calculates a unique file name to be used for a temporary file
   </p>
   <p class="p" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-E049A211-8422-4856-8878-401FA04484E5">
    <strong class="ph b" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-0A75B4A3-BD6D-4633-AB76-DE70E52BC48F">
     Supported Platforms:
    </strong>
    Windows, Mac OS, and Web
   </p>
   <div class="section" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-2EA91256-2ACA-4CE4-A05E-2E0A3A2A1C51">
    <h2 class="title sectiontitle">
     Signature
    </h2>
    <pre class="pre codeblock prettyprint">(vl-filename-mktemp <em class="ph i" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-598B90D4-FE43-49B4-ACD9-FD9E526B1F15">[pattern directory extension]</em>)</pre>
    <div class="section" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__WS1A9193826455F5FF-1E1423D1125831BDA67-7AD3">
     <dl class="dl" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__WS1A9193826455F5FF-1E1423D1125831BDA67-7AD3">
      <dt class="dt dlterm">
       <em class="ph i" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-98479514-A690-4087-966F-28C9B8A58E5F">
        pattern
       </em>
      </dt>
      <dd class="dd" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-E598B7A3-0213-47FA-B70C-09492DE0A511">
       <p class="p" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-9EFBC4E6-3614-4EE6-8D8E-63A1EED2AA82">
        <strong class="ph b" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-70D25F99-B7E4-4FE1-BF5B-BB544843F45E">
         Type:
        </strong>
        String
       </p>
       <p class="p" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__WSFACF1429558A55DE11F0759FF1E4B858C-313A">
        File name pattern; if
        <samp class="ph codeph" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-2457F9E8-3968-45F3-83CD-C326E10D8B4F">
         nil
        </samp>
        or absent,
        <samp class="ph codeph" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-18F13300-4C37-4B97-937C-25880165554B">
         vl-filename-mktemp
        </samp>
        uses “$VL~~”.
       </p>
      </dd>
      <dt class="dt dlterm">
       <em class="ph i" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-FC651EA9-F0FA-41C4-8645-AA411C57FB42">
        directory
       </em>
      </dt>
      <dd class="dd" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-2388AB34-2B57-4851-ACD6-CC204E73DC9C">
       <p class="p" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-987602B5-3A4F-40A5-B181-F69454A876F1">
        <strong class="ph b" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-711A8BDA-07F2-447D-A409-C61D78A4F59E">
         Type:
        </strong>
        String
       </p>
       <p class="p" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__WSFACF1429558A55DE11F0759FF1E4B858C-3139">
        Directory for temporary files; if
        <samp class="ph codeph" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-9E1D1F27-3727-4989-AB84-DE87AEEB6534">
         nil
        </samp>
        or absent,
        <samp class="ph codeph" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-623908D7-42ED-4E49-8C3D-A64D9AA7F5A4">
         vl-filename-mktemp
        </samp>
        chooses a directory in the following order:
       </p>
       <ul class="ul" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__WS1A9193826455F5FF1A32D8D10EBC6B7CCC-68B6">
        <li class="li" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__WS1A9193826455F5FF-7C08E89711EC57B47A8-77A9">
         The directory specified in
         <em class="ph i" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-BD2B7651-3F36-4CBE-BEC9-BFCCE75CB9EC">
          pattern
         </em>
         , if any.
        </li>
        <li class="li" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__WS1A9193826455F5FF-7C08E89711EC57B47A8-77A8">
         The directory specified in the TMP environment variable.
        </li>
        <li class="li" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__WS1A9193826455F5FF-7C08E89711EC57B47A8-77A7">
         The directory specified in the TEMP environment variable.
        </li>
        <li class="li" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__WS1A9193826455F5FF-7C08E89711EC57B47A8-77A6">
         The current directory.
        </li>
       </ul>
      </dd>
      <dt class="dt dlterm">
       <em class="ph i" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-D5513E4F-D0EE-4407-B895-8334740BA753">
        extension
       </em>
      </dt>
      <dd class="dd" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-B6BB6956-42D4-4F5E-BF05-637ED602CF8B">
       <p class="p" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-80096CD8-55F2-4C6C-9106-3AF04A26F268">
        <strong class="ph b" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-8B744408-AD92-492C-A5CC-E68363FF8617">
         Type:
        </strong>
        String
       </p>
       <p class="p" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__WSFACF1429558A55DE11F0759FF1E4B858C-3138">
        Extension to be assigned to the file; if
        <samp class="ph codeph" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-86AD5019-65BA-47A9-BF9E-D846E141216F">
         nil
        </samp>
        or absent,
        <samp class="ph codeph" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-A73F4550-07EC-4A2A-8E36-A58D29968E18">
         vl-filename-mktemp
        </samp>
        uses the extension part of
        <em class="ph i" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-BD32A700-C711-47DD-81E5-D97AE07136E7">
         pattern
        </em>
        (which may be an empty string).
       </p>
      </dd>
     </dl>
    </div>
   </div>
   <div class="section" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__SECTION_3643FA0546AE42E8BADC3F86EAE5B70F">
    <h2 class="title sectiontitle">
     Return Values
    </h2>
    <p class="p" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-0E1232A9-6C02-4D47-9681-C722880A9AEB">
     <strong class="ph b" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-2653B0AA-120D-4EFD-B572-16B8111D089A">
      Type:
     </strong>
     String
    </p>
    <p class="p" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__WSFACF1429558A55DE11F0759FF1E4B858C-3136">
     A textual value containing a file name, in the following format:
    </p>
    <pre class="pre codeblock prettyprint"><em class="ph i" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-BA491BE1-02AC-4AA2-940E-C4D9C07049FD">directory</em>\<em class="ph i" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-A983DF86-E7FA-419E-8640-51238467D0D1">base</em>&lt;<em class="ph i" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-83E056E6-E6A3-47F5-B852-235E6FA2C209">XXX</em>&gt;&lt;.<em class="ph i" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-DA12AF2D-48AC-4BDE-AD7C-912BC28A42D0">extension</em>&gt;</pre>
    <p class="p" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__WSFACF1429558A55DE11F0759FF1E4B858C-3135">
     where:
    </p>
    <p class="p" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__WSFACF1429558A55DE11F0759FF1E4B858C-3134">
     <em class="ph i" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-EA3E8EFD-035A-461A-BEE3-D853647BEE5C">
      base
     </em>
     is up to 5 characters, taken from
     <em class="ph i" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-B0629E5B-E4D5-4231-BFE0-41CE7A5E4844">
      pattern
     </em>
    </p>
    <p class="p" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__WSFACF1429558A55DE11F0759FF1E4B858C-3133">
     <em class="ph i" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-3E2336AB-A76D-40F6-862B-53C4BDA4ABD1">
      XXX
     </em>
     is a 3-character unique combination
    </p>
    <p class="p" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__WSFACF1429558A55DE11F0759FF1E4B858C-3132">
     All file names generated by
     <samp class="ph codeph" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-A742F525-6660-48D1-A085-06A74E08A2BE">
      vl-filename-mktemp
     </samp>
     during a session are deleted when you exit the application.
    </p>
   </div>
   <div class="section" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__SECTION_3B97A30223714EB28BFBDB2E031038F1">
    <h2 class="title sectiontitle">
     Release Information
    </h2>
    <ul class="ul" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__UL_D9BD4612D49D44EC86BB9A8F116B6D2F">
     <p class="p">
      <strong class="ph b">
       Releases:
      </strong>
     </p>
     <li class="li" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__LI_EBD19550E6DB44EB9C77184767A42A3A">
      <span class="ph msgph prodname">
       AutoCAD R14 and later on Windows
      </span>
     </li>
     <li class="li" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__LI_64D396D405764F62BEF5FC08ADF7F970">
      <span class="ph msgph prodname">
       AutoCAD 2011 and later on Mac OS
      </span>
     </li>
    </ul>
   </div>
   <div class="section" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__SECTION_D5698966887D4B7886FB782C7CF9E1A9">
    <h2 class="title sectiontitle">
     History
    </h2>
    <ul class="ul" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__UL_BFB4B1FD8F8749B38B60EBEF431C010C">
     <p class="p">
      <strong class="ph b">
       <span class="ph msgph prodname">
        AutoCAD 2021
       </span>
      </strong>
     </p>
     <li class="li" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__LI_DA0DCCBE4CFB4A62986CA4D13BCC3B30">
      <samp class="ph codeph">
       <em class="ph i">
        pattern
       </em>
      </samp>
      ,
      <samp class="ph codeph">
       <em class="ph i">
        directory
       </em>
      </samp>
      and
      <samp class="ph codeph">
       <em class="ph i">
        extension
       </em>
      </samp>
      arguments previously accepted ASCII text strings, but they now accept Unicode text strings.
     </li>
     <li class="li" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__LI_CC317308D32A4724B12D7C3DB105776E">
      Return value was modified to support Unicode characters and might be different than earlier releases. For example,
      <samp class="ph codeph">
       (vl-filename-mktemp "myapp" "c:\\abc中")
      </samp>
      previously returned a temporary file name in the path identified by the
      <samp class="ph codeph">
       <em class="ph i">
        directory
       </em>
      </samp>
      argument, but now correctly returns a temporary file name based on the directory provided to the function.
     </li>
     <li class="li" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__LI_4833BCC1FE2B46F0A640779559833038">
      LISPSYS system variable controls which AutoLISP engine is used and the behavior of the function.
      <ul class="ul" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__UL_4701534B0D264F5683474BD99A1ACAAD">
       <li class="li" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__LI_048369839DEB4BED9304D0706732C22C">
        0 - ASCII character support (legacy behavior)
       </li>
       <li class="li" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__LI_8CEAF090AE9F47898848968885B975F0">
        1 or 2 - Unicode character support
       </li>
      </ul>
      <div class="note note" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-611482EF-AAA8-4062-91AE-DB031A7B8361">
       <span class="notetitle">
        Note:
       </span>
       After the value of the LISPSYS system variable has been changed, AutoCAD must be restarted for the change to take affect.
      </div>
     </li>
    </ul>
   </div>
   <div class="section" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__SECTION_086615A01AEE47C79DB801329AA638AE">
    <h2 class="title sectiontitle">
     Examples
    </h2>
    <div class="section" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-8AFCC6EA-8C2B-464A-8EA8-01BB8280F39D">
     <dl class="dl" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-8AFCC6EA-8C2B-464A-8EA8-01BB8280F39D">
      <dt class="dt dlterm">
       Windows
      </dt>
      <dd class="dd" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-EBCA6835-D8B3-440C-A0FB-9BC7224A4D2E">
       <pre class="pre codeblock prettyprint"><strong class="ph b" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-DD4F3851-5FC7-4E87-9D7E-F0EFFD3FE2CC">(vl-filename-mktemp)</strong>
"C:\\TMP\\$VL~~004"

<strong class="ph b" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-2D342F1C-A129-4798-B809-26999AD1DD60">(vl-filename-mktemp "myapp.del")</strong>
"C:\\TMP\\MYAPP005.DEL"

<strong class="ph b" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-B04FDEA5-E1F6-4943-9A0D-B18E4D0CC718">(vl-filename-mktemp "c:\\acadwin\\myapp.del")</strong>
"C:\\ACADWIN\\MYAPP006.DEL"

<strong class="ph b" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-DC5F60FC-0AEE-44FE-9B7F-B793A4EE2568">(vl-filename-mktemp "c:\\acadwin\\myapp.del")</strong>
"C:\\ACADWIN\\MYAPP007.DEL"

<strong class="ph b" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-AC84BD83-98BC-4743-BD2A-DE22A6D31CB1">(vl-filename-mktemp "myapp" "c:\\acadwin")</strong>
"C:\\ACADWIN\\MYAPP008"

<strong class="ph b" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-1FF55FFC-7269-40C9-8D8F-D40A2096DDDE">(vl-filename-mktemp "myapp" "c:\\acadwin" ".del")</strong>
"C:\\ACADWIN\\MYAPP00A.DEL"</pre>
      </dd>
      <dt class="dt dlterm">
       Mac OS and Web
      </dt>
      <dd class="dd" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-516DA597-CA5A-4481-8220-A77BE1196E26">
       <pre class="pre codeblock prettyprint"><strong class="ph b" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-03DAC77C-D368-44A9-BF1A-EB87FD061113">(vl-filename-mktemp)</strong>
"/documents/$VL~~001"

<strong class="ph b" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-E6B3E580-530D-41BF-A121-92D1F54F5698">(vl-filename-mktemp "myapp.del")</strong>
"/documents/MYAPP002.DEL"

<strong class="ph b" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-61D81F33-1BB6-431D-9AAD-23801196CAC3">(vl-filename-mktemp "/myutilities/temp/myapp.del")</strong>
"/myutilities/temp/MYAPP003.DEL"

<strong class="ph b" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-EFFB39D3-5EC7-4E51-8CAA-106E7D00CB17">(vl-filename-mktemp "/myutilities/temp/myapp.del")</strong>
"/myutilities/temp/MYAPP004.DEL"

<strong class="ph b" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-A7210F51-2978-4FAF-B078-24D71D493843">(vl-filename-mktemp "myapp" "/myutilities/temp")</strong>
"/myutilities/temp/MYAPP005"

<strong class="ph b" id="GUID-F417A5EF-95BB-47EE-B60E-7C017635580D__GUID-902D4BEB-B550-43A8-B39F-D415A17B2A7A">(vl-filename-mktemp "myapp" "/myutilities/temp" ".del")</strong>
"/myutilities/temp/MYAPP006.DEL"</pre>
      </dd>
     </dl>
    </div>
   </div>
  </div>
  <div class="related-links">
   <div class="relinfo relconcepts">
    <h4 class="related">
     Related Concepts
    </h4>
    <ul>
     <li>
      <a class="link" href="../Functions_By_Functionality/File_Handling_Functions_Reference_AutoLISP.html">
       File-Handling Functions Reference (AutoLISP)
      </a>
     </li>
    </ul>
   </div>
   <div class="relinfo relref">
    <h4 class="related">
     Related Reference
    </h4>
    <ul>
     <li>
      <a class="link" href="../O_Functions/open_AutoLISP.html" title="Opens a file for access by the AutoLISP I/O functions">
       open (AutoLISP)
      </a>
     </li>
     <li>
      <a class="link" href="../C_Functions/close_AutoLISP.html" title="Closes an open file">
       close (AutoLISP)
      </a>
     </li>
     <li>
      <a class="link" href="../F_Functions/findfile_AutoLISP.html" title="Searches the AutoCAD library and trusted paths for the specified file or directory">
       findfile (AutoLISP)
      </a>
     </li>
     <li>
      <a class="link" href="../R_Functions/read_line_AutoLISP.html" title="Reads a string from the keyboard or from an open file, until an end-of-line marker is encountered">
       read-line (AutoLISP)
      </a>
     </li>
     <li>
      <a class="link" href="../W_Functions/write_line_AutoLISP.html" title="Writes a string to the screen or to an open file">
       write-line (AutoLISP)
      </a>
     </li>
    </ul>
   </div>
  </div>
 </body>
</html>
