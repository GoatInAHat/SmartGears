<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="concept" name="topic-type"/>
  <meta content="/view/OARX/2025/ENU/" name="helpsystempath"/>
  <meta content="OARX" name="product"/>
  <meta content="2025" name="release"/>
  <meta content="Developer" name="book"/>
  <meta content="AutoCAD-AutoLISP-Tutorials" name="component"/>
  <meta content="25/4/2024" name="created"/>
  <meta content="ACD=2025" name="applies-to"/>
  <meta content="ACAD_E=2025" name="applies-to"/>
  <meta content="AMECH_PP=2025" name="applies-to"/>
  <meta content="ARCHDESK=2025" name="applies-to"/>
  <meta content="BLDSYS=2025" name="applies-to"/>
  <meta content="CIV3D=2025" name="applies-to"/>
  <meta content="MAP=2025" name="applies-to"/>
  <meta content="PLNT3D=2025" name="applies-to"/>
  <meta content="PNID=2025" name="applies-to"/>
  <meta content="STRDET=2025" name="applies-to"/>
  <meta content="UTLDESN=2025" name="applies-to"/>
  <meta content="CSY, DEU, ESP, FRA, HUN, ITA, KOR, PLK, PTB, RUS, CHS, CHT" name="applies-to-languages"/>
  <meta content="TRIDION" name="generatedby"/>
  <meta content="disable" name="user-comments"/>
  <meta content="GUID-1A8D567B-168B-4272-BC70-8B50DC8B74CB" name="workflow-parent-id"/>
  <meta content="general" name="experiencelevel"/>
  <meta content="programmer" name="audience"/>
  <meta content="02/12/2019" name="modified"/>
  <meta content="autolisp" name="topic-subtype"/>
  <meta content="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F" name="topicid"/>
  <meta content="ENU" name="language"/>
  <title>
   Updating a Stubbed-Out Function
  </title>
  <link href="../../../../_assets/client-28da4093.css" rel="stylesheet" type="text/css"/>
 </head>
 <body id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F">
  <div class="head">
   <div class="head-block">
    <div class="button-info">
     <span id="infoline">
     </span>
    </div>
    <div class="ancestry">
    </div>
    <div class="head-text">
     <h1>
      Updating a Stubbed-Out Function
     </h1>
    </div>
   </div>
  </div>
  <div class="body conbody">
   <div class="section" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__GUID-542370B8-6071-4E1B-8C16-9BFC8BDE8973">
    <p class="p" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__WSFACF1429558A55DE1929BBDFEF458CE1C-773D">
     You have now revised the
     <samp class="ph codeph" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__GUID-2D7E2422-751C-4A9D-8615-B7250986C9F2">
      gp:getDialogInput
     </samp>
     function. Whenever you modify a stubbed-out function, you should always check a couple of things:
    </p>
    <ul class="ul" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__WS1A9193826455F5FF18CB41610EC0A2E719-7388">
     <li class="li" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__WS1A9193826455F5FF-7F10494411F03A24F24-1D7E">
      Has the
      <samp class="ph codeph" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__GUID-27955752-4FA8-4C8F-BC59-62634DDD0D5F">
       defun
      </samp>
      statement changed? That is, does the function still take the same number of arguments?
     </li>
     <li class="li" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__WS1A9193826455F5FF-7F10494411F03A24F24-1D7D">
      Does the function return something different?
     </li>
    </ul>
    <p class="p" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__WSFACF1429558A55DE1929BBDFEF458CE1C-773C">
     In the case of
     <samp class="ph codeph" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__GUID-244F5AB4-214E-418E-A9B1-10E731E8B95B">
      gp:getDialogInput
     </samp>
     , the answer to both questions is yes. The function now accepts the parameter of the path width (to set the default tile size and spacing). And instead of returning
     <samp class="ph codeph" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__GUID-7B5F68AB-37AE-4551-862E-0B6FD2FCC6A9">
      T
     </samp>
     , which is the value the stubbed-out version of the function returned,
     <samp class="ph codeph" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__GUID-159EA5ED-0F18-4BD0-9DE8-56A38A2CA6C6">
      gp:getDialogInput
     </samp>
     now returns an association list containing four new values.
    </p>
    <p class="p" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__WSFACF1429558A55DE1929BBDFEF458CE1C-773B">
     Both changes affect the code that calls the function and the code that handles the return values from the functions. Replace your previous version of the
     <samp class="ph codeph" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__GUID-ADC13FDD-112E-4283-A42A-206344FA43F4">
      C:GPath
     </samp>
     function in
     <em class="ph i" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__GUID-18CFB507-493C-4D35-B9F0-DADFE1AD77FA">
      gpmain.lsp
     </em>
     with the following code:
    </p>
    <pre class="pre codeblock prettyprint">(defun C:GPath (/ gp_PathData gp_dialogResults)
  ;; Ask the user for input: first for path location and
  ;; direction, then for path parameters.  Continue only if you
  ;; have valid input.  Store the data in gp_PathData.
  (if (setq gp_PathData (gp:getPointInput))
    (if (setq gp_dialogResults (gp:getDialogInput (cdr(assoc 40
                               gp_PathData))))
      (progn
        ;; Now take the results of gp:getPointInput and append this
        ;; to the added information supplied by gp:getDialogInput.
        (setq gp_PathData (append gp_PathData gp_DialogResults))

        ;; At this point, you have all the input from the user.
        ;; Draw the outline, storing the resulting polyline
        ;; "pointer" in the variable called PolylineName.
        (setq PolylineName (gp:drawOutline gp_PathData))
      ) ;_ end of progn
      (princ "\nFunction cancelled.")

    ) ;_ end of if
    (princ "\nIncomplete information to draw a boundary.")

  ) ;_ end of if
  (princ)  ; exit quietly

) ;_ end of defun</pre>
    <p class="p" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__WSFACF1429558A55DE1929BBDFEF458CE1C-773A">
     Take a look at the boldface lines in the revision of the main
     <samp class="ph codeph" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__GUID-19FF981B-017B-4895-8888-01A0CCB3C76B">
      C:GPath
     </samp>
     function. There are two essential changes to make the program work correctly:
    </p>
    <ul class="ul" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__WS1A9193826455F5FF18CB41610EC0A2E719-7387">
     <li class="li" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__WS1A9193826455F5FF-7F10494411F03A24F24-1D7C">
      When the
      <samp class="ph codeph" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__GUID-9A33F426-D589-4955-BDF0-6074CF5D64AC">
       gp:getDialogInput
      </samp>
      function is invoked, the path width is passed to it. This is done by extracting the value associated with the key 40 index of the
      <samp class="ph codeph" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__GUID-7F0AC176-8319-475D-9620-663443ED13DE">
       gp_PathData
      </samp>
      association list.
     </li>
     <li class="li" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__WS1A9193826455F5FF-7F10494411F03A24F24-1D7B">
      The association list returned by
      <samp class="ph codeph" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__GUID-73B48ECB-2A04-4435-99DE-9F139C84D9B1">
       gp:getPointInput
      </samp>
      is assigned to a variable called
      <samp class="ph codeph" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__GUID-F9A4BE48-42E6-43F9-9CFD-C4FCED0A8489">
       gp_dialogResults
      </samp>
      . If this variable has a value, its content needs to be appended to the association list values already stored in
      <samp class="ph codeph" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__GUID-4DF068CA-20E5-4462-9525-B05782DC679E">
       gp_PathData
      </samp>
      .
     </li>
    </ul>
    <p class="p" id="GUID-6BAB6CAD-3371-4965-8688-0DA37778CA2F__WSFACF1429558A55DE1929BBDFEF458CE1C-7739">
     There are additional changes in the code resulting from the replacement of placeholders in the stubbed-out version. The easiest thing to do is copy this code from the online tutorial and paste it into your file.
    </p>
   </div>
  </div>
  <div class="related-links">
   <div class="familylinks">
    <div class="parentlink">
     <strong>
      Parent topic:
     </strong>
     <a class="link" href="Lesson_4_Creating_a_Project_and_Adding_the_Interface_Visual_LISP_IDE.html">
      Lesson 4: Creating a Project and Adding the Interface (Visual LISP IDE)
     </a>
    </div>
    <div class="previouslink">
     <strong>
      Previous topic:
     </strong>
     <a class="link" href="Putting_the_Code_Together.html">
      Putting the Code Together
     </a>
    </div>
    <div class="nextlink">
     <strong>
      Next topic:
     </strong>
     <a class="link" href="Providing_a_Choice_of_Boundary_Line_Type.html">
      Providing a Choice of Boundary Line Type
     </a>
    </div>
   </div>
  </div>
 </body>
</html>
