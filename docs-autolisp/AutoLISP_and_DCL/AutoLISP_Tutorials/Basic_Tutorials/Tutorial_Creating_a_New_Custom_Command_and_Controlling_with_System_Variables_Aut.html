<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="concept" name="topic-type"/>
  <meta content="/view/OARX/2025/ENU/" name="helpsystempath"/>
  <meta content="OARX" name="product"/>
  <meta content="2025" name="release"/>
  <meta content="Developer" name="book"/>
  <meta content="AutoCAD-AutoLISP-Tutorials" name="component"/>
  <meta content="25/4/2024" name="created"/>
  <meta content="ACD=2025" name="applies-to"/>
  <meta content="ACAD_E=2025" name="applies-to"/>
  <meta content="AMECH_PP=2025" name="applies-to"/>
  <meta content="ARCHDESK=2025" name="applies-to"/>
  <meta content="BLDSYS=2025" name="applies-to"/>
  <meta content="CIV3D=2025" name="applies-to"/>
  <meta content="MAP=2025" name="applies-to"/>
  <meta content="PLNT3D=2025" name="applies-to"/>
  <meta content="PNID=2025" name="applies-to"/>
  <meta content="STRDET=2025" name="applies-to"/>
  <meta content="UTLDESN=2025" name="applies-to"/>
  <meta content="CSY, DEU, ESP, FRA, HUN, ITA, KOR, PLK, PTB, RUS, CHS, CHT" name="applies-to-languages"/>
  <meta content="TRIDION" name="generatedby"/>
  <meta content="disable" name="user-comments"/>
  <meta content="With the AutoLISP programming language, you can control the drawing environment by creating your own command-like functions, and by setting the values of system variables." name="description"/>
  <meta content="create command" name="indexterm"/>
  <meta content="tutorial" name="indexterm"/>
  <meta content="change system variable" name="indexterm"/>
  <meta content="set system variable" name="indexterm"/>
  <meta content="query system variable" name="indexterm"/>
  <meta content="get system variable" name="indexterm"/>
  <meta content="command" name="indexterm"/>
  <meta content="command function" name="indexterm"/>
  <meta content="setvar function" name="indexterm"/>
  <meta content="setvar" name="indexterm"/>
  <meta content="getvar function" name="indexterm"/>
  <meta content="getvar" name="indexterm"/>
  <meta content="general" name="experiencelevel"/>
  <meta content="programmer" name="audience"/>
  <meta content="02/12/2019" name="modified"/>
  <meta content="autolisp" name="topic-subtype"/>
  <meta content="tutorial" name="topic-subtype"/>
  <meta content="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5" name="topicid"/>
  <meta content="ENU" name="language"/>
  <title>
   Tutorial: Creating a New Custom Command and Controlling with System Variables (AutoLISP)
  </title>
  <link href="../../../_assets/client-28da4093.css" rel="stylesheet" type="text/css"/>
 </head>
 <body id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5">
  <div class="head">
   <div class="head-block">
    <div class="button-info">
     <span id="infoline">
     </span>
    </div>
    <div class="ancestry">
    </div>
    <div class="head-text">
     <h1>
      Tutorial: Creating a New Custom Command and Controlling with System Variables (AutoLISP)
     </h1>
    </div>
   </div>
  </div>
  <div class="body conbody">
   <p class="shortdesc">
    With the AutoLISP programming language, you can control the drawing environment by creating your own command-like functions, and by setting the values of system variables.
   </p>
   <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-724DE20D-B9CF-43A8-B271-EAC786C63DE3">
    With AutoLISP you can create new commands that can be accessed from the Command prompt, just like you interact with standard AutoCAD commands, or those defined by a third-party utility. Your custom commands can use standard AutoCAD commands with the
    <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-75BF7A29-12B0-4A63-BBDC-E9AB1DABAA45">
     command
    </samp>
    function, or they can directly manipulate objects using AutoLISP functions. Many developers create AutoLISP functions that execute several standard AutoCAD commands in a specific order.
   </p>
   <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-F8175902-74DC-4887-BA18-A418DEAF2B4D">
    AutoLISP programs can also query and change the values of system variables. System variables affect the behavior of commands and the AutoCAD environment.
   </p>
   <div class="section" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__SECTION_4D86BB8AECAD4E6897C871E94BAA1E2F">
    <h2 class="title sectiontitle">
     Creating a New Function
    </h2>
    <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-D2F5DF82-099E-46E5-A6AA-669776750A56">
     You define a new function using the
     <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-6C972A5B-4949-4805-AB99-40C25939522A">
      defun
     </samp>
     AutoLISP function.
     <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-9CFD5095-EECD-4D08-803F-5C6599EAA2BD">
      defun
     </samp>
     means “define function.”
    </p>
    <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-8CCD6E58-E85A-4050-B40D-2F2A1010B22E">
     Here is the signature of the
     <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-98CC50B8-458C-4C3A-8308-717FA5D3F7ED">
      defun
     </samp>
     function:
    </p>
    <pre class="pre codeblock prettyprint">(defun <em class="ph i" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-F9B7078F-07AB-419F-B000-82D4D3CCA193">function_name ([arguments] [/ local_variables ...]) expr ...</em>)</pre>
    <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-4F49C3DB-A96E-4B27-AA15-482FF8086A49">
     As you can see, the first argument is the name of the function that you want to define.
    </p>
    <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-36A6B9B5-6341-4E60-B1C9-EC61DB96B8BB">
     The
     <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-5F8FE32E-BD10-47CA-83B5-704841A6618C">
      defun
     </samp>
     function also allows you to define a list of arguments that can be passed to the function and a list of user-defined variables that are "local" to the function. When you declare user-defined variables that will be available to your function only while it is active, make sure you add them to the local variable list as part of the
     <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-07F422B3-56D4-4D99-8E15-6526AA4481BE">
      defun
     </samp>
     expression.
    </p>
    <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-CFE68DE0-D11D-46D5-B0F5-30A6E80659A0">
     The following is an example of a custom function that outputs a message to either the Command prompt or in a message box:
    </p>
    <pre class="pre codeblock prettyprint">(defun display-msg (msg mode / )
  (if (= mode 0)
    (prompt (strcat "\n" msg))
    (alert msg)
  )
 (princ)
)</pre>
    <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-C82BCB85-AFC6-4B32-993D-0BF81B0691FA">
     The custom display-msg function expects two values, a message as a text string and a mode as an integer value of 0 or 1. You can test the function by entering the code at the AutoCAD Command prompt, and then entering one of the following to execute the function:
    </p>
    <ul class="ul" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__UL_5951603427014072BF094616D407A085">
     <li class="li" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__LI_E5D9213A68F64910A844B6478952F16F">
      <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-69A20EC3-F4BC-4379-BFC2-9CA361462CE1">
       (display-msg "Hello from AutoLISP!" 0)
      </samp>
     </li>
     <li class="li" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__LI_37C59FDC9BAF4E6C893B6CA55152A5E4">
      <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-D7ABFF97-8F1C-492D-8F72-90D1C63CBD2A">
       (display-msg "Hello from AutoLISP!" 1)
      </samp>
     </li>
    </ul>
   </div>
   <div class="section" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__SECTION_ED07FFE88DD84D85A7E4C2CFBFA1938E">
    <h2 class="title sectiontitle">
     Creating a Custom Command
    </h2>
    <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-0AC6F96C-54F2-464F-8D03-54865DFAAFC1">
     A custom command is a function that is defined with the
     <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-DC53E635-AE85-46CB-A2CB-2706D3496E76">
      defun
     </samp>
     function, but uses a special naming convention: they use the characters
     <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-3FF5DA01-4817-4432-8443-F0A3A4A5058E">
      c:
     </samp>
     as a prefix. This distinguishes them from other functions.
    </p>
    <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-328E3A5B-76C0-497E-AF53-011F546489FE">
     You can define a function that accepts arguments, but you should never define a function that will be used as a custom command to accept arguments. Instead, functions that are defined as custom commands should prompt the user for input with the
     <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-A442AB0D-B9B4-4888-B711-5DB7E9F85D53">
      getXXX
     </samp>
     ,
     <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-72E379A6-15D0-46AF-8580-625A65E123E8">
      entsel
     </samp>
     ,
     <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-0192AD7E-9C38-4E6B-BFA2-292B971FC8EC">
      nentsel
     </samp>
     , and
     <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-52B940A7-1F01-4A0C-B403-C1321683D5FE">
      ssget
     </samp>
     functions.
    </p>
    <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-EB588DFA-260D-4678-8D89-A1957854DD2D">
     After you provide a function name to the
     <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-59ABE29A-93F7-4DDA-8C4D-FA90ADCD3A38">
      defun
     </samp>
     function, you can then enter which AutoLISP expressions should be executed when the custom command is entered at the Command prompt.
    </p>
    <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-6EF8F27F-782A-44EE-B9A0-A35D9E902036">
     The following steps explain how to define a custom command named HELLO. This command will prompt the user for a string value and then display the string entered in a message box:
    </p>
    <ol class="ol" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__OL_B2A85387269044A8AC48C527C915B5FF">
     <li class="li" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__LI_6B075115E93F488DB4E77974D5FCD348">
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-F779EA65-68BD-44C7-AE80-7C7D3148667C">
       At the Command prompt, enter
       <strong class="ph b" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-EC855C4E-A2E1-4CDA-8393-BE2760546A76">
        !msg
       </strong>
       and press Enter.
      </p>
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-23587907-A33D-48ED-88DB-B98014AE2ADE">
       The value
       <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-0A2524C6-7497-4ED4-B2F2-669555CC72C2">
        nil
       </samp>
       should be returned because the user-defined variable
       <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-ABE49277-8E9D-455F-8F1C-EE47BD99F9B4">
        msg
       </samp>
       is not assigned a value currently. The
       <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-1648A9FA-8E1A-4389-A34D-A62A71A59E0A">
        msg
       </samp>
       is a user-defined variable that will be defined as part of the HELLO command and should not be available to other programs.
      </p>
     </li>
     <li class="li" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__LI_14AE2A5914C249DBAE41BF4E9C42A4F9">
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-74236C70-3FE9-4993-AFB6-01D3A4115B7D">
       At the Command prompt, enter the following code one line at a time. Press Enter after each line. After the last line has been entered, you will see the value C:HELLO displayed in the history of the Command Window.
      </p>
      <pre class="pre codeblock prettyprint">(defun c:hello ( / msg)
  (setq msg (getstring T "\nEnter a message: "))
  (alert msg)
)</pre>
     </li>
    </ol>
    <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-B51FEA0F-DB33-4E26-99CA-F69F21EED16A">
     Now that the HELLO command has been defined, you can execute it by entering its name at the Command prompt. Use these steps to execute the HELLO command:
    </p>
    <ol class="ol" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__OL_FB4C5294A40E44CCAC5EC6A5B6B7F38E">
     <li class="li" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__LI_CC7E756290184567B743891CF61A7C07">
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-34D01EE4-9435-476F-A5FD-5928C391F6FB">
       At the Command prompt, enter
       <strong class="ph b" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-3763B636-EB0C-4AFB-91E2-4528C9A07F44">
        hello
       </strong>
       .
      </p>
     </li>
     <li class="li" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__LI_4A91ACCA2A9046F5805924BFF9D9E3B1">
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-9F1BC257-DDF9-4A18-AEA6-18016A79473C">
       At the
       <em class="ph i" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-3C13B673-5AE7-4DFB-9536-0836EC138953">
        Enter a message:
       </em>
       prompt, enter
       <strong class="ph b" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-2BAB9CA0-8989-40F3-8E58-C7E4EF0A4A35">
        This is my first AutoLISP command!
       </strong>
       .
      </p>
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-72886147-FC4D-4207-9D0E-EE3C884E07C8">
       A message box is displayed that shows the message you entered.
      </p>
      <div class="fig fignone" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__FIG_0A46399AC17743D8A8B72D164F9DBCAC">
       <img class="image" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__IMAGE_AA4F85BB57344683AC36E0198776730C" src="../../../_assets/GUID_70E555EE_20AA_42A0_BC00_370DE184E9D6-17d70ae6.png"/>
       <p class="figcap">
        Message Box - Windows
       </p>
      </div>
      <div class="fig fignone" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__FIG_A1F580655C88427E8208B81E5C04948F">
       <img class="image" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__IMAGE_0DC5551E751848909F847C4A57FFD443" src="../../../_assets/GUID_1E3EC3D5_8AE8_47DD_B163_E3B7AF941323-81b9656a.png"/>
       <p class="figcap">
        Message Box - Mac OS
       </p>
      </div>
     </li>
     <li class="li" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__LI_0678DDF3862B4A35AB394047429136E5">
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-78167ED3-A0BC-416D-B41D-D316CAB512DC">
       Click OK to dismiss the message box.
      </p>
     </li>
     <li class="li" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__LI_2A23C3BD9A99423EB0D07E0581F3D502">
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-03381096-294F-482A-AB1F-204FDD8F3778">
       At the Command prompt, enter
       <strong class="ph b" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-C57E17F1-1DB5-4C91-9B6F-B8B8D5442805">
        !msg
       </strong>
       and press Enter.
      </p>
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-DEFFB0D4-96BF-4228-845D-913719D20693">
       The value
       <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-A9E7D688-281F-4D31-8700-E7D64B2266A7">
        nil
       </samp>
       should be returned, and is as expected. Even though you used the
       <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-121DDA04-DF07-406A-B776-EFF890C3E74B">
        setq
       </samp>
       function to assign the value entered at the
       <em class="ph i" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-E06A2C5E-EB21-4C3E-87C0-C08BB84E15B9">
        Enter a message:
       </em>
       prompt to the
       <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-8368A9E2-2182-4BF2-ACAA-D47DA591A24D">
        msg
       </samp>
       variable, the value of the variable is not maintained because it was defined as a local variable to the C:HELLO function. If you remove
       <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-5A62C6CC-BA58-4FF8-9072-C64F34A0D9B6">
        msg
       </samp>
       from the local variable list in the
       <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-0B419EE4-5B47-4BB3-BC85-9F8B8199329E">
        defun
       </samp>
       expression for the C:HELLO function, the
       <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-C3868E97-37F9-43B8-8A03-86D154DAD11C">
        msg
       </samp>
       variable would be defined as a global variable then and the value would be retained after the function has finished executing.
      </p>
     </li>
    </ol>
    <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-DA2A948D-CC7B-4062-A3FD-9A0DFD81B544">
     Entering expressions directly at the Command prompt makes it easy to learn and work with AutoLISP, but there is a disadvantage to this convenience. Any functions and user-defined variables you define in a drawing are accessible only from that drawing until it is closed. You can see this by doing the following:
    </p>
    <ol class="ol" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__OL_9A15C7DD6FBD4A2AAE277F70CCEDDE5A">
     <li class="li" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__LI_D7F7B126850C46F9AA2B7584F0DBFD27">
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-0F1B22AA-C1E1-45B1-A566-D3E34807E4C5">
       Define the HELLO function shown earlier in the current drawing, if you did not previously do so.
      </p>
     </li>
     <li class="li" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__LI_967FB02F47BB45929BDFA4943672DF80">
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-FF71CA55-ABE3-433B-B4D0-38ECE2A04776">
       Create a new drawing.
      </p>
     </li>
     <li class="li" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__LI_DD2C8AF42A7142BA89322D5432EFA732">
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-BF3B35F0-AB77-4F7D-8F34-29F45AB4C542">
       At the Command prompt, enter
       <strong class="ph b" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-4034E1DB-6319-4CFC-8727-AB1F47078D3C">
        hello
       </strong>
       .
      </p>
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-A7CED00E-6EEE-4071-8640-BA588D586FA9">
       The following message is displayed:
      </p>
      <p class="p promptblock" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-9475F2EB-5133-474B-AF3B-B374A5279EB7">
       Unknown command "HELLO". Press F1 for help.
      </p>
     </li>
    </ol>
    <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-6BFD85E8-2000-4552-B906-3DCECBDA5DF0">
     You can save your AutoLISP expressions to a file with the LSP file extension so they can be reused and loaded into other drawings. For information on creating and loading AutoLISP Source (LSP) files, see
     <em class="ph i" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-B651789E-1CFC-4EE3-A38E-ACB0FE0AD2AC">
      Tutorial: Creating, Loading, and Opening an AutoLISP File
     </em>
     .
    </p>
   </div>
   <div class="section" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__SECTION_5DE3F0F44500436CB8F7581F91683B29">
    <h2 class="title sectiontitle">
     Accessing and Setting System Variable Values
    </h2>
    <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-75501B59-5CB3-4888-BDBC-D510C5792FEC">
     System variables control the behavior of commands, change the settings of the drawing environment, and specify the default property values of new objects and much more. You can query and set the value for a system variable using the following functions:
    </p>
    <ul class="ul" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__UL_CD9F22DC59DF4E39A5DE10321D79EDEA">
     <li class="li" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__LI_355DEA3B22924A82818A7778EDA17666">
      <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-CDE8B1FF-269A-4A4C-A44F-F5A9CE0275F5">
       getvar
      </samp>
      - Returns the current value of a system variable
     </li>
     <li class="li" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__LI_214B247FE7254426B0A2C08915DFCDE6">
      <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-60E0AFBC-3616-4468-85B7-737DA933F8C1">
       setvar
      </samp>
      - Assigns a new value to a system variable
     </li>
    </ul>
    <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-545008A2-8663-4E10-A3BE-F2184E94D0AC">
     The following explain how to get and set the value of the OSMODE (Object Snap mode) system variable:
    </p>
    <ol class="ol" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__OL_796CB9B5FF9E4F93BB4D9DE032BDA36A">
     <li class="li" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__LI_053DA3FEDEFA47C0B94805EEFF9BE78C">
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-6F3D6B29-1C28-49D1-AD70-1E5C41C0CAE3">
       At the Command prompt, enter
       <strong class="ph b" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-41FD09F4-6C2E-42BE-B14E-7DAE978A26FE">
        (setq cur_osmode (getvar "osmode"))
       </strong>
       .
      </p>
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-0658FDBD-8E70-4ED1-9A24-84509BFB1D5D">
       The current value of the OSMODE system variable is returned and assigned to the user-defined variable of
       <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-953CA9A2-D03F-4865-B30B-F1056DAF819C">
        cur_osmode
       </samp>
       . While OSMODE returns an integer value, the value is the sum of multiple "bit-code" values. For example, the value 35 indicates that the Endpoint (1), Midpoint (2), and Intersection (32) running object snaps are enabled.
      </p>
     </li>
     <li class="li" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__LI_2CFE0CF79AF74F6D9766180C44D94496">
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-8D97689F-171E-4307-BFC2-996AE22C3E17">
       At the Command prompt, enter
       <strong class="ph b" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-9649799D-B3E8-4578-A4BB-9F223D4B92D9">
        osnap
       </strong>
       .
      </p>
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-0C4F2C6B-7CCA-4D68-A1EC-67A11CCA22C8">
       The Drafting Settings dialog box is displayed with the Object Snap tab current. This tab allows you to see which object snaps are enabled. The following image shows what the Drafting Settings dialog box looks like when the OSMODE system variable is set to a value of 35.
      </p>
      <div class="fig fignone" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__FIG_419F549C17CB441699A2B046717FA4B6">
       <img class="image" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__IMAGE_8BD898994D534174AFAECEB44EF6D80C" src="../../../_assets/GUID_2C802286_49D6_4B3A_AC22_1AA1C091D0AA-0cc9d0c1.png"/>
       <p class="figcap">
        Drafting Settings dialog box - Windows
       </p>
      </div>
      <div class="fig fignone" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__FIG_CD02D0D0D0F6467DB844140B5FA012BC">
       <img class="image" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__IMAGE_A88825B2C4AC43DCA3EEB6AE8203D946" src="../../../_assets/GUID_F862CD94_678F_49AD_9849_66A52EFB21C7-30143014.png"/>
       <p class="figcap">
        Drafting Settings dialog box - Mac OS
       </p>
      </div>
     </li>
     <li class="li" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__LI_39E1B6678E6441CDA92CFF14D047429E">
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-D306AC39-2A0E-493A-8BD8-5F443804FB62">
       In the Drafting Settings dialog box, change which object snaps are current and click OK.
      </p>
     </li>
     <li class="li" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__LI_DD026F2A2A2B4152A4B9458DF35BB16E">
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-E82D0A90-968C-4587-A0AF-EA3AE29DA11C">
       At the Command prompt, enter
       <strong class="ph b" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-39D3DC00-F5BD-4F9C-BDBC-DD09D2758369">
        (getvar "osmode")
       </strong>
       .
      </p>
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-2CF9A164-DC8C-4298-BA95-85D0992AE4C7">
       The current value of the OSMODE system variable is returned.
      </p>
     </li>
     <li class="li" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__LI_13A530E9DE264280B0CA6D22742822D4">
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-42382C48-DDDA-479D-8DF5-AC8F3C663F0F">
       At the Command prompt, enter
       <strong class="ph b" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-D4ADF6DC-2EAD-4BCA-BD9A-622CE7ABB41C">
        (setvar "osmode" cur_osmode)
       </strong>
       .
      </p>
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-41448F05-590C-4C7F-B1F3-5F7D2B5D6936">
       The value of the OSMODE system variable is restored to the value that was previously assigned to the user-defined variable
       <samp class="ph codeph" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-56B12969-3955-419D-B69D-DD0621BDACFB">
        cur_osmode
       </samp>
       .
      </p>
     </li>
     <li class="li" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__LI_036B7E8F0E234C36B8C8A09F2ABEAB29">
      <p class="p" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-A300DEBB-FECC-40E4-97E8-AAFFE1ED5FCA">
       Display the Drafting Settings dialog box again. You should see that the object snap settings have been restored.
      </p>
     </li>
    </ol>
    <div class="note note" id="GUID-1330DB99-DDFA-44D0-BDEB-676FF619EBE5__GUID-918DE997-E7D5-4F2F-8F6B-25DC66DBC92F">
     <span class="notetitle">
      Note:
     </span>
     Before you make a change to the drawing environment, it is good practice to store the values of any system variables, and then restore them before your program ends.
    </div>
   </div>
  </div>
  <div class="related-links">
   <div class="relinfo relconcepts">
    <h4 class="related">
     Related Concepts
    </h4>
    <ul>
     <li>
      <a class="link" href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?v=2025&amp;p=OARX&amp;l=ENU&amp;accessmode=live&amp;guid=GUID-EF910176-86D2-4158-A7C3-E926A002F421">
       About Defining Commands (AutoLISP)
      </a>
     </li>
     <li>
      <a class="link" href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?v=2025&amp;p=OARX&amp;l=ENU&amp;accessmode=live&amp;guid=GUID-CC89231D-E10F-47D0-A1FD-A989D24C7105">
       About Variables (AutoLISP)
      </a>
     </li>
     <li>
      <a class="link" href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?v=2025&amp;p=OARX&amp;l=ENU&amp;accessmode=live&amp;guid=GUID-A8045F62-1CE3-4022-ACC1-CC0E2C1E158D">
       About Local and Global Variables (AutoLISP)
      </a>
     </li>
     <li>
      <a class="link" href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?v=2025&amp;p=OARX&amp;l=ENU&amp;accessmode=live&amp;guid=GUID-7F024C1B-EFB8-4F6C-9EFE-A6491210A4CD">
       About Accessing and Requesting User Input (AutoLISP)
      </a>
     </li>
     <li>
      <a class="link" href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?v=2025&amp;p=OARX&amp;l=ENU&amp;accessmode=live&amp;guid=GUID-58AD9863-BB35-4982-9382-581FE8A5022C">
       About Displaying Messages (AutoLISP)
      </a>
     </li>
     <li>
      <a class="link" href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?v=2025&amp;p=OARX&amp;l=ENU&amp;accessmode=live&amp;guid=GUID-529819FD-9E9C-4789-BA18-B981BA32DD23">
       About System and Environment Variables (AutoLISP)
      </a>
     </li>
     <li>
      <a class="link" href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?v=2025&amp;p=OARX&amp;l=ENU&amp;accessmode=live&amp;guid=GUID-417600C7-1F59-4C95-B4E8-A7996F9F994F">
       About Strings and String Handling (AutoLISP)
      </a>
     </li>
    </ul>
   </div>
   <div class="relinfo relref">
    <h4 class="related">
     Related Reference
    </h4>
    <ul>
     <li>
      <a class="link" href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?v=2025&amp;p=OARX&amp;l=ENU&amp;accessmode=live&amp;guid=GUID-4CEE5072-8817-4920-8A2D-7060F5E16547">
       Functions Reference (AutoLISP)
      </a>
     </li>
    </ul>
   </div>
  </div>
 </body>
</html>
