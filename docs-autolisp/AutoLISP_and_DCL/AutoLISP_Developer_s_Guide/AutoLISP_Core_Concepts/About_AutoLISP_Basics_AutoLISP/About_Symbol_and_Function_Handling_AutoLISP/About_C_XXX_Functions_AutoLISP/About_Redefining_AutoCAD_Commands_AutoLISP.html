<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="concept" name="topic-type"/>
  <meta content="/view/OARX/2025/ENU/" name="helpsystempath"/>
  <meta content="OARX" name="product"/>
  <meta content="2025" name="release"/>
  <meta content="Developer" name="book"/>
  <meta content="AutoCAD-AutoLISP" name="component"/>
  <meta content="21/10/2024" name="created"/>
  <meta content="ACD=2025" name="applies-to"/>
  <meta content="ACAD_E=2025" name="applies-to"/>
  <meta content="AMECH_PP=2025" name="applies-to"/>
  <meta content="ARCHDESK=2025" name="applies-to"/>
  <meta content="BLDSYS=2025" name="applies-to"/>
  <meta content="CIV3D=2025" name="applies-to"/>
  <meta content="MAP=2025" name="applies-to"/>
  <meta content="PLNT3D=2025" name="applies-to"/>
  <meta content="PNID=2025" name="applies-to"/>
  <meta content="STRDET=2025" name="applies-to"/>
  <meta content="UTLDESN=2025" name="applies-to"/>
  <meta content="TRIDION" name="generatedby"/>
  <meta content="disable" name="user-comments"/>
  <meta content="Using AutoLISP, you can undefine and replace the functionality of a built-in AutoCAD command." name="description"/>
  <meta content="general" name="experiencelevel"/>
  <meta content="programmer" name="audience"/>
  <meta content="02/12/2019" name="modified"/>
  <meta content="autolisp" name="topic-subtype"/>
  <meta content="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6" name="topicid"/>
  <meta content="ENU" name="language"/>
  <title>
   About Redefining AutoCAD Commands (AutoLISP)
  </title>
  <link href="../../../../../../_assets/client-28da4093.css" rel="stylesheet" type="text/css"/>
 </head>
 <body id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6">
  <div class="head">
   <div class="head-block">
    <div class="button-info">
     <span id="infoline">
     </span>
    </div>
    <div class="ancestry">
    </div>
    <div class="head-text">
     <h1>
      About Redefining AutoCAD Commands (AutoLISP)
     </h1>
    </div>
   </div>
  </div>
  <div class="body conbody">
   <p class="shortdesc">
    Using AutoLISP, you can undefine and replace the functionality of a built-in AutoCAD command.
   </p>
   <p class="p" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__WSFACF1429558A55DE11F0759FF1E4B858C-655F">
    The UNDEFINE command allows you to disable a built-in AutoCAD command, and then using AutoLISP it can be replaced by defining a user-defined command of the same name with the
    <samp class="ph codeph" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__GUID-941C3401-76E5-4071-988B-8A1F0802AC4C">
     defun
    </samp>
    function. A command remains undefined for the current editing session only. The built-in definition of a command can be restored with the REDEFINE command.
   </p>
   <p class="p" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__GUID-4A174611-975B-4ACC-8E38-3FB55B2198CA">
    You can execute the built-in definition of a command after it has been undefined by specifying its name prefixed with a period (.). For example, if you undefine QUIT, you can access the command by entering
    <strong class="ph b" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__GUID-0952908A-2963-4D1C-BD0B-6204AB8B1E8D">
     .quit
    </strong>
    at the AutoCAD Command prompt. This is also the syntax that should be used within the AutoLISP command function to make sure your user-defined functions and commands work predictably even if a built-in command has been undefined.
   </p>
   <p class="p" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__GUID-CCD0423C-E571-430F-88C9-6F28131EC0A8">
    It is recommended that you protect your menus, scripts, and AutoLISP programs by using the period-prefixed forms of all commands. This ensures that your applications use the built-in command definitions rather than a redefined command.
   </p>
   <p class="p" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__GUID-80BF84CF-4AD6-4E52-A24C-9575450210BA">
    Consider the following example. Whenever you use the LINE command, you want AutoCAD to remind you about using the PLINE command. You can define the AutoLISP function
    <samp class="ph codeph" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__GUID-A75CC82F-F899-4149-9CDA-AD0482022A75">
     C:LINE
    </samp>
    to substitute for the normal LINE command as follows:
   </p>
   <pre class="pre codeblock prettyprint"><strong class="ph b" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__GUID-B0C36146-597B-46CD-B89B-F75B76CE91D9">(defun C:LINE ( )
  (princ "Shouldn't you be using PLINE?\n")
  (command ".LINE")
 (princ)
)</strong>
C:LINE</pre>
   <p class="p" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__GUID-04214AE0-BABC-4397-8F36-FEB26289ADA9">
    In this example, the function
    <samp class="ph codeph" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__GUID-EC12FBB9-7A7C-472A-9125-0B0C9526CA2A">
     C:LINE
    </samp>
    is designed to issue its message and then to execute the standard LINE command (using .LINE with the command function). Before AutoCAD can use your definition of the LINE command, you must undefine the built-in LINE command. Enter the following to undefine the built-in LINE command:
   </p>
   <pre class="pre codeblock prettyprint">(command ".undefine" "line")</pre>
   <p class="p" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__GUID-8F5437FC-4D63-4168-BFE7-E5F9BE7901E5">
    After undefining the command and entering line at the AutoCAD Command prompt, AutoCAD uses the
    <samp class="ph codeph" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__GUID-45FE84DE-B2BE-4F88-B0E4-EEDBA265FC23">
     C:LINE
    </samp>
    AutoLISP function:
   </p>
   <p class="p promptblock" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__GUID-E3C60A5C-EFA0-48DB-971E-B4A7B0206CBA">
    Command:
    <strong class="ph b" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__GUID-9A945836-5581-47EC-A7A3-55558191DCA2">
     line
    </strong>
   </p>
   <p class="p promptblock" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__GUID-8A8A3274-372D-4BCE-9A72-884CA95A2DA0">
    Shouldn't you be using PLINE?
   </p>
   <p class="p promptblock" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__GUID-04C5AB32-B749-4279-844F-DDF438486A48">
    .LINE Specify first point: Specify first point:
   </p>
   <p class="p" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__WSFACF1429558A55DE11F0759FF1E4B858C-655A">
    The previous code example assumes the CMDECHO system variable is set to 1 (On). If CMDECHO is set to 0 (Off), AutoCAD does not echo prompts during a
    <samp class="ph codeph" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__GUID-31A0B72A-B0B0-4FD6-9028-682137DF3E2D">
     command
    </samp>
    function call. The following code uses the CMDECHO system variable to prevent the LINE command prompt from repeating:
   </p>
   <pre class="pre codeblock prettyprint"><strong class="ph b" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__GUID-66753FCE-D9CA-4566-9ED8-BC7683A447DF">(defun C:LINE ( / cmdsave )
  (setq cmdsave (getvar "cmdecho"))
  (setvar "cmdecho" 0)
  (princ "Shouldn't you be using PLINE?\n")
  (command ".LINE")
  (setvar "cmdecho" cmdsave)
 (princ)
)</strong>
C:LINE</pre>
   <p class="p" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__GUID-6966CA0D-5F05-41FC-B718-B66A155D32B0">
    Now if you enter line at the AutoCAD Command prompt, the following text is displayed:
   </p>
   <p class="p promptblock" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__GUID-055C11E6-A42C-4CA7-965C-F24875858964">
    Shouldn't you be using PLINE?
   </p>
   <p class="p promptblock" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__GUID-D554B5E1-AAAF-4252-AE6E-18EF68F7356D">
    Specify first point:
   </p>
   <p class="p" id="GUID-38D0244E-C0C7-4FF0-A4B9-DE6E05635BD6__WSFACF1429558A55DE11F0759FF1E4B858C-6557">
    You can undefined and redefine commands to create a drawing management system, for example. You can redefine the NEW, OPEN, and QUIT commands to write billing information to a log file after a drawing is created and before you terminate an editing session.
   </p>
  </div>
  <div class="related-links">
   <div class="familylinks">
    <div class="parentlink">
     <strong>
      Parent topic:
     </strong>
     <a class="link" href="About_C_XXX_Functions_AutoLISP.html" title="If an AutoLISP function is defined with a name of the form C:xxx, it can be issued at the AutoCAD Command prompt in the same manner as a built-in AutoCAD command.">
      About C:XXX Functions (AutoLISP)
     </a>
    </div>
   </div>
   <div class="relinfo relconcepts">
    <h4 class="related">
     Related Concepts
    </h4>
    <ul>
     <li>
      <a class="link" href="About_Defining_Commands_AutoLISP.html" title="New commands can be defined with the defun function and by prefixing a function name with c:.">
       About Defining Commands (AutoLISP)
      </a>
     </li>
     <li>
      <a class="link" href="../About_Defining_a_Function_AutoLISP/About_Defining_a_Function_AutoLISP.html" title="You can define your own functions.">
       About Defining a Function (AutoLISP)
      </a>
     </li>
     <li>
      <a class="link" href="../../../About_Using_AutoLISP_to_Communicate_With_AutoCAD_AutoLISP/About_Accessing_Commands_and_Services_AutoLISP/About_Using_AutoCAD_Commands_AutoLISP/About_Using_AutoCAD_Commands_AutoLISP.html" title="AutoLISP can execute a built-in AutoCAD command or one that is defined in a loaded ObjectARX or Managed .NET application.">
       About Using AutoCAD Commands (AutoLISP)
      </a>
     </li>
     <li>
      <a class="link" href="../../../About_Using_AutoLISP_to_Communicate_With_AutoCAD_AutoLISP/About_Accessing_Commands_and_Services_AutoLISP/About_Using_AutoCAD_Commands_AutoLISP/About_Undoing_Changes_Made_by_a_Routine_AutoLISP.html" title="Grouping multiple AutoLISP statements together under a single UNDO group allows you to rollback all the actions performed by using either the AutoCAD U or UNDO commands.">
       About Undoing Changes Made by a Routine (AutoLISP)
      </a>
     </li>
     <li>
      <a class="link" href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?v=2025&amp;p=OARX&amp;l=ENU&amp;accessmode=live&amp;guid=GUID-6804DF2D-E5C4-466A-9869-3CDD7A031FAA">
       Function-Handling Functions Reference (AutoLISP)
      </a>
     </li>
    </ul>
   </div>
  </div>
 </body>
</html>
