<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="concept" name="topic-type"/>
  <meta content="/view/OARX/2025/ENU/" name="helpsystempath"/>
  <meta content="OARX" name="product"/>
  <meta content="2025" name="release"/>
  <meta content="Developer" name="book"/>
  <meta content="AutoCAD-AutoLISP-Tutorials" name="component"/>
  <meta content="25/4/2024" name="created"/>
  <meta content="ACD=2025" name="applies-to"/>
  <meta content="ACAD_E=2025" name="applies-to"/>
  <meta content="AMECH_PP=2025" name="applies-to"/>
  <meta content="ARCHDESK=2025" name="applies-to"/>
  <meta content="BLDSYS=2025" name="applies-to"/>
  <meta content="CIV3D=2025" name="applies-to"/>
  <meta content="MAP=2025" name="applies-to"/>
  <meta content="PLNT3D=2025" name="applies-to"/>
  <meta content="PNID=2025" name="applies-to"/>
  <meta content="STRDET=2025" name="applies-to"/>
  <meta content="UTLDESN=2025" name="applies-to"/>
  <meta content="CSY, DEU, ESP, FRA, HUN, ITA, KOR, PLK, PTB, RUS, CHS, CHT" name="applies-to-languages"/>
  <meta content="TRIDION" name="generatedby"/>
  <meta content="disable" name="user-comments"/>
  <meta content="GUID-209318DE-95C4-40F6-8776-935C8905FDEE" name="workflow-parent-id"/>
  <meta content="general" name="experiencelevel"/>
  <meta content="programmer" name="audience"/>
  <meta content="02/12/2019" name="modified"/>
  <meta content="autolisp" name="topic-subtype"/>
  <meta content="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0" name="topicid"/>
  <meta content="ENU" name="language"/>
  <title>
   Modifying Other Calls to Gp:Calculate-and-Draw-Tiles
  </title>
  <link href="../../../../_assets/client-28da4093.css" rel="stylesheet" type="text/css"/>
 </head>
 <body id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0">
  <div class="head">
   <div class="head-block">
    <div class="button-info">
     <span id="infoline">
     </span>
    </div>
    <div class="ancestry">
    </div>
    <div class="head-text">
     <h1>
      Modifying Other Calls to Gp:Calculate-and-Draw-Tiles
     </h1>
    </div>
   </div>
  </div>
  <div class="body conbody">
   <div class="section" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__GUID-61CF8DD3-B577-48B9-BB98-6774CE79D8B5">
    <p class="p" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WSFACF1429558A55DE1929BBDFEF458CE1C-786D">
     In the reactor callback, a hard-coded string
     <samp class="ph codeph" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__GUID-52E85455-9B5D-4977-BD40-F85A137B05CA">
      "ActiveX"
     </samp>
     is passed to
     <samp class="ph codeph" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__GUID-66CE3C76-A6FA-43D4-B439-C21121CB2EEC">
      gp:Calculate-and-Draw-Tiles
     </samp>
     as the
     <samp class="ph codeph" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__GUID-65DC6CA6-85F5-4237-B495-EB9EE4D97CAE">
      ObjectCreationStyle
     </samp>
     argument. But what about the other times
     <samp class="ph codeph" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__GUID-BC4FE935-C7E6-433E-BCB2-90BF25E3AF1F">
      gp:Calculate-and-Draw-Tiles
     </samp>
     is invoked?
    </p>
    <p class="p" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WSFACF1429558A55DE1929BBDFEF458CE1C-786C">
     If you remember back to Lesson 4, it was pointed out that whenever you change a stubbed-out function, you need to ask the following questions:
    </p>
    <ul class="ul" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WS1A9193826455F5FF18CB41610EC0A2E719-72DB">
     <li class="li" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WS1A9193826455F5FF-7F10494411F03A24F24-1D14">
      Has the function call (invocation) changed? That is, does the function still take the same number of arguments?
     </li>
     <li class="li" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WS1A9193826455F5FF-7F10494411F03A24F24-1D13">
      Does the function return something different?
     </li>
    </ul>
    <p class="p" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WSFACF1429558A55DE1929BBDFEF458CE1C-786B">
     The same questions need to be asked any time you make a significant change to a working function as you build, refine, and update your applications. In this case, you need to find any other functions in your project that invoke
     <samp class="ph codeph" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__GUID-3D46B731-1C5C-464C-93A2-E5AAEA93F339">
      gp:Calculate-and-Draw-Tiles
     </samp>
     . Visual LISP has a feature that helps you do this.
    </p>
   </div>
   <div class="section" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WSFACF1429558A55DE6C92BAFEE30F7510-7DB6">
    <h2 class="title sectiontitle">
     To find all calls to gp:Calculate-and-Draw-Tiles in your project
    </h2>
    <ol class="ol" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WS1A9193826455F5FF18CB41610EC0A2E719-72D9">
     <li class="li" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WS1A9193826455F5FF-7F10494411F03A24F24-1D12">
      In the Visual LISP text editor window, double-click on the word
      <samp class="ph codeph" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__GUID-F648CD58-FFF1-4580-88FE-84B995D23056">
       gp:Calculate-and-Draw-Tiles
      </samp>
      within the
      <em class="ph i" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__GUID-09BB6655-522F-4F36-800B-4EDB880B7256">
       gpdraw.lsp
      </em>
      file.
     </li>
     <li class="li" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WS1A9193826455F5FF-7F10494411F03A24F24-1D11">
      Click Search
      <span class="glyphArrow" name="glyph_span">
       <img src="../../../../_assets/ac_menuaro-f6601f42.gif"/>
      </span>
      Find from the Visual LISP menu.
      <img class="image" height="24" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__IMAGE_8326999AF1D04A3B80652FFA19C0359B" src="../../../../_assets/GUID_376250FB_6786_4666_8556_523E721E6C88-bb114e96.png" width="24"/>
      <p class="p" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WSFACF1429558A55DE1929BBDFEF458CE1C-786A">
       Because you preselected the function name, it is already listed as the string to search for.
      </p>
     </li>
     <li class="li" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WS1A9193826455F5FF-7F10494411F03A24F24-1D10">
      Select the Project button listed under Search in the Find dialog box.
      <p class="p" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WSFACF1429558A55DE1929BBDFEF458CE1C-7869">
       When you select this option, the Find dialog box expands at the bottom, and you can select the project to be searched.
      </p>
     </li>
     <li class="li" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WS1A9193826455F5FF-7F10494411F03A24F24-1D0F">
      Specify your current project name, then click the Find button.
      <p class="p" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WSFACF1429558A55DE1929BBDFEF458CE1C-7868">
       Visual LISP displays the results in the Find output window:
      </p>
     </li>
     <li class="li" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WS1A9193826455F5FF-7F10494411F03A24F24-1D0E">
      Look at the results in the Find Output window and determine whether there are any other locations in your code where you make a call to
      <samp class="ph codeph" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__GUID-28D8A144-DDBA-4FC6-93AE-310EC325B204">
       gp:Calculate-and-Draw-Tiles
      </samp>
      . There should only be one: a location within
      <em class="ph i" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__GUID-8711718A-13A7-433C-8537-38D48A78F071">
       gpmain.lsp
      </em>
      .
     </li>
     <li class="li" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WS1A9193826455F5FF-7F10494411F03A24F24-1D0D">
      In the Find Output window, double-click on the line of code calling
      <samp class="ph codeph" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__GUID-CED81123-6580-4FF9-9981-0019F9A0ED88">
       gp:Calculate-and-Draw-Tiles
      </samp>
      .
      <p class="p" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WSFACF1429558A55DE1929BBDFEF458CE1C-7867">
       Visual LISP activates a text editor window and takes you right to that line of code in
       <em class="ph i" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__GUID-2A44A530-E6D2-4970-A25F-2223CC9624B6">
        gpmain.lsp
       </em>
       . The code currently appears as follows:
      </p>
      <pre class="pre codeblock prettyprint">(setq tilelist (gp:Calculate-and-Draw-Tiles gp_PathData))</pre>
     </li>
     <li class="li" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WS1A9193826455F5FF-7F10494411F03A24F24-1D0C">
      Replace the line of code with the following:
      <pre class="pre codeblock prettyprint">(setq tilelist (gp:Calculate-and-Draw-Tiles gp_PathData nil))</pre>
      <p class="p" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WSFACF1429558A55DE1929BBDFEF458CE1C-7866">
       Why
       <samp class="ph codeph" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__GUID-A386BAD2-9197-4139-AB3B-BCFF137AB4B1">
        nil
       </samp>
       ? Take another look at the pseudo-code:
      </p>
      <pre class="pre codeblock prettyprint">If ObjectCreationStyle is nil, assign it from the BoundaryData.</pre>
      <p class="p" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WSFACF1429558A55DE1929BBDFEF458CE1C-7865">
       Passing
       <samp class="ph codeph" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__GUID-A813A4F7-1AFD-405A-A45F-7D5038581254">
        nil
       </samp>
       as a parameter to
       <samp class="ph codeph" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__GUID-23ABB112-4FE0-429F-99B8-9748323B7622">
        gp:Calculate-and-Draw-Tiles
       </samp>
       causes that function to check the user's choice of how to draw the tiles (as determined by the dialog box selection and stored in
       <samp class="ph codeph" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__GUID-1FB393B6-CAF1-4CCE-993F-6DA2A579D226">
        gp_PathData
       </samp>
       ). Subsequent calls from the command-ended reactor callback, however, will override this behavior by forcing the use of ActiveX.
      </p>
     </li>
    </ol>
    <p class="p" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WSFACF1429558A55DE1929BBDFEF458CE1C-7864">
     Congratulations! You now have the basic reactor functionality in place. If you prefer, copy the
     <em class="ph i" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__GUID-058C7942-5E8D-4AF5-9E1D-45D5DB66B30E">
      gpmain.lsp
     </em>
     and
     <em class="ph i" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__GUID-469157B0-4518-4470-9608-C7DDA11D40CE">
      gpdraw.lsp
     </em>
     files from the
     <em class="ph i" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__GUID-41CE92A6-FF49-4948-9330-1C37D90AA2C7">
      Tutorial\VisualLISP\Lesson7
     </em>
     into your working directory and examine the completed, debugged code.
    </p>
    <p class="p" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__WSFACF1429558A55DE1929BBDFEF458CE1C-7863">
     There is still a lot of work to be done, and it is all triggered from this fragment of code in the
     <samp class="ph codeph" id="GUID-47A2B1A5-5B06-4871-A38E-520F6ADB5DB0__GUID-7D447107-89ED-426E-8F0F-C7C4EF25E3F7">
      gp:Command-ended
     </samp>
     function:
    </p>
    <pre class="pre codeblock prettyprint">(setq NewReactorData
    (gp:RedefinePolyBorder CurrentPoints reactorData)
) ;_ end of setq</pre>
   </div>
  </div>
  <div class="related-links">
   <div class="familylinks">
    <div class="parentlink">
     <strong>
      Parent topic:
     </strong>
     <a class="link" href="Lesson_7_Putting_It_All_Together_Visual_LISP_IDE.html">
      Lesson 7: Putting It All Together (Visual LISP IDE)
     </a>
    </div>
    <div class="previouslink">
     <strong>
      Previous topic:
     </strong>
     <a class="link" href="Updating_Gp_Calculate_and_Draw_Tiles.html">
      Updating Gp:Calculate-and-Draw-Tiles
     </a>
    </div>
    <div class="nextlink">
     <strong>
      Next topic:
     </strong>
     <a class="link" href="Redefining_the_Polyline_Boundary.html">
      Redefining the Polyline Boundary
     </a>
    </div>
   </div>
  </div>
 </body>
</html>
