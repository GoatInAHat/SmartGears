<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="reference-adsk" name="topic-type"/>
  <meta content="/view/OARX/2025/ENU/" name="helpsystempath"/>
  <meta content="OARX" name="product"/>
  <meta content="2025" name="release"/>
  <meta content="Developer" name="book"/>
  <meta content="AutoCAD-AutoLISP-Reference" name="component"/>
  <meta content="21/10/2024" name="created"/>
  <meta content="ACD=2025" name="applies-to"/>
  <meta content="ACAD_E=2025" name="applies-to"/>
  <meta content="AMECH_PP=2025" name="applies-to"/>
  <meta content="ARCHDESK=2025" name="applies-to"/>
  <meta content="BLDSYS=2025" name="applies-to"/>
  <meta content="CIV3D=2025" name="applies-to"/>
  <meta content="MAP=2025" name="applies-to"/>
  <meta content="PLNT3D=2025" name="applies-to"/>
  <meta content="PNID=2025" name="applies-to"/>
  <meta content="STRDET=2025" name="applies-to"/>
  <meta content="UTLDESN=2025" name="applies-to"/>
  <meta content="TRIDION" name="generatedby"/>
  <meta content="disable" name="user-comments"/>
  <meta content="Lists all files in a given directory" name="description"/>
  <meta content="VL-DIRECTORY-FILES" name="contextid"/>
  <meta content="general" name="experiencelevel"/>
  <meta content="programmer" name="audience"/>
  <meta content="29/03/2023" name="modified"/>
  <meta content="autolisp" name="topic-subtype"/>
  <meta content="function" name="topic-subtype"/>
  <meta content="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514" name="topicid"/>
  <meta content="ENU" name="language"/>
  <title>
   vl-directory-files (AutoLISP)
  </title>
  <link href="../../../../_assets/client-28da4093.css" rel="stylesheet" type="text/css"/>
 </head>
 <body id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514">
  <div class="head">
   <div class="head-block">
    <div class="button-info">
     <span id="infoline">
     </span>
    </div>
    <div class="ancestry">
    </div>
    <div class="head-text">
     <h1>
      vl-directory-files (AutoLISP)
     </h1>
    </div>
   </div>
  </div>
  <div class="body referencebody-adsk">
   <p class="shortdesc">
    Lists all files in a given directory
   </p>
   <p class="p" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-E049A211-8422-4856-8878-401FA04484E5">
    <strong class="ph b" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-0A75B4A3-BD6D-4633-AB76-DE70E52BC48F">
     Supported Platforms:
    </strong>
    Windows, Mac OS, and Web
   </p>
   <div class="section" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-3653C3DF-B0C5-48EE-BF1A-C6511B21E0AD">
    <h2 class="title sectiontitle">
     Signature
    </h2>
    <pre class="pre codeblock prettyprint">(vl-directory-files <em class="ph i" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-4169E03A-1D33-493E-AB89-96C6B868F8F2">[directory pattern directories]</em>)</pre>
    <div class="section" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__WS1A9193826455F5FF-1E1423D1125831BDA67-7AE4">
     <dl class="dl" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__WS1A9193826455F5FF-1E1423D1125831BDA67-7AE4">
      <dt class="dt dlterm">
       <em class="ph i" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-D9A42741-688A-4B0B-9001-74AAEE09CFBB">
        directory
       </em>
      </dt>
      <dd class="dd" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-8A8A26B1-6ACF-4F49-8EFC-71C827C3FC12">
       <p class="p" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-DC2A1590-EACF-4532-A1FB-ABAA51343C21">
        <strong class="ph b" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-0A569735-F266-4CDE-8F82-14499FA3D475">
         Type:
        </strong>
        String
       </p>
       <p class="p" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__WSFACF1429558A55DE11F0759FF1E4B858C-31C1">
        Directory name to collect files for; if
        <samp class="ph codeph" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-28C8C235-838C-4E40-B31D-6C270EB83258">
         nil
        </samp>
        or absent,
        <samp class="ph codeph" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-D91A5FEE-7B19-403F-86E9-1F7E4612393B">
         vl-directory-files
        </samp>
        uses the current directory.
       </p>
      </dd>
      <dt class="dt dlterm">
       <em class="ph i" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-A4C460D7-CD31-46D7-AFDE-28AF7819AD57">
        pattern
       </em>
      </dt>
      <dd class="dd" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-C751C0B9-11CA-47B9-B0D3-E7857970B1A7">
       <p class="p" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-2C75D90C-A994-4537-8674-35B69FFCA550">
        <strong class="ph b" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-363E3244-4170-412B-AB41-026F5F327075">
         Type:
        </strong>
        String
       </p>
       <p class="p" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__WSFACF1429558A55DE11F0759FF1E4B858C-31C0">
        Valid wildcard pattern for the file name; if
        <samp class="ph codeph" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-E4EA1FE2-B8E8-4D60-BFA9-D5652E2D10F9">
         nil
        </samp>
        or absent,
        <samp class="ph codeph" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-288D7E8B-7459-4E55-82FB-A7DB312C825B">
         vl-directory-files
        </samp>
        assumes "*.*".
       </p>
      </dd>
      <dt class="dt dlterm">
       <em class="ph i" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-229C89B7-3178-4773-912F-9FB520A232F8">
        directories
       </em>
      </dt>
      <dd class="dd" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-99B50DB3-BA78-405C-A552-F097CB8973D4">
       <p class="p" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-50530EFA-3676-4189-826C-A2EBB7AAF812">
        <strong class="ph b" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-91015072-36F2-4FAF-B39D-58BA637E44D7">
         Type:
        </strong>
        Integer
       </p>
       <p class="p" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__WSFACF1429558A55DE11F0759FF1E4B858C-31BF">
        Value that indicates whether the returned list should include directory names. Specify one of the following:
       </p>
       <p class="p" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__WSFACF1429558A55DE11F0759FF1E4B858C-31BE">
        <strong class="ph b" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-2CAB506B-C479-4C7A-8AE3-CD7463A24E7A">
         -1
        </strong>
        -- List directories only
       </p>
       <p class="p" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__WSFACF1429558A55DE11F0759FF1E4B858C-31BD">
        <strong class="ph b" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-0A21D7EC-3668-4684-9D39-93E36D3B0175">
         0
        </strong>
        -- List files and directories (the default)
       </p>
       <p class="p" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__WSFACF1429558A55DE11F0759FF1E4B858C-31BC">
        <strong class="ph b" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-D2936D92-B548-42D8-ACAF-021E533F865C">
         1
        </strong>
        -- List files only
       </p>
      </dd>
     </dl>
    </div>
   </div>
   <div class="section" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__SECTION_65F86A2BDAFD45C5B007671C602BC3B2">
    <h2 class="title sectiontitle">
     Return Values
    </h2>
    <p class="p" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-CABC1B9C-D801-48E3-AE6E-5EDC540E8796">
     <strong class="ph b" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-68264456-4405-42D4-A152-6657C2DB7CA6">
      Type:
     </strong>
     List or nil
    </p>
    <p class="p" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__WSFACF1429558A55DE11F0759FF1E4B858C-31BA">
     A list of file and path names; otherwise
     <samp class="ph codeph" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-893DFBD9-C9BD-45C1-AF1B-4B54509DCAE0">
      nil
     </samp>
     if no files match the specified pattern.
    </p>
   </div>
   <div class="section" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__SECTION_B2B9A863FF70471A82D8B2B3E525236D">
    <h2 class="title sectiontitle">
     Release Information
    </h2>
    <ul class="ul" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__UL_B8752B2B225C46E996901F65C50A8A49">
     <p class="p">
      <strong class="ph b">
       Releases:
      </strong>
     </p>
     <li class="li" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__LI_429B327744FB409FA0F6573D472F2073">
      <span class="ph msgph prodname">
       AutoCAD R14 and later on Windows
      </span>
     </li>
     <li class="li" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__LI_094369B4E47544AC873F8CACC5D3E025">
      <span class="ph msgph prodname">
       AutoCAD 2011 and later on Mac OS
      </span>
     </li>
    </ul>
   </div>
   <div class="section" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__SECTION_4737CC6A646E4FA8A5793B809BC60E65">
    <h2 class="title sectiontitle">
     History
    </h2>
    <ul class="ul" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__UL_74D65950BDC049E8AD2193233B4CAFEF">
     <p class="p">
      <strong class="ph b">
       <span class="ph msgph prodname">
        AutoCAD 2021
       </span>
      </strong>
     </p>
     <li class="li" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__LI_0716FADDE45A4C7ABEBEBF3B55AD2D18">
      <samp class="ph codeph">
       <em class="ph i">
        directory
       </em>
      </samp>
      and
      <samp class="ph codeph">
       <em class="ph i">
        pattern
       </em>
      </samp>
      arguments previously accepted ASCII text strings, but they now accept Unicode text strings.
     </li>
     <li class="li" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__LI_4D802BB1E13F407E9031DCCBFA5B9AD5">
      Return value was modified to support Unicode characters and might be different than earlier releases. For example,
      <samp class="ph codeph">
       (vl-directory-files "c:/")
      </samp>
      previously returned the directory name "abc中" as "abc?", but now correctly returns the directory name as "abc中". Also previously passing a directory name with a Unicode character returned a value of
      <samp class="ph codeph">
       nil
      </samp>
      even if the directory existed.
     </li>
     <li class="li" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__LI_61C1E3C75C7640DEACB01599CDDC7E5F">
      LISPSYS system variable controls which AutoLISP engine is used and the behavior of the function.
      <ul class="ul" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__UL_C61BDAD7A7BA47C49AD9F71897B7EAA1">
       <li class="li" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__LI_800CC9DFB0194063B18DA2490320D18F">
        0 - ASCII character support (legacy behavior)
       </li>
       <li class="li" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__LI_638A3FA97C2E48FF9E6626ACE66D1A0C">
        1 or 2 - Unicode character support
       </li>
      </ul>
      <div class="note note" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-AD865395-3678-4943-B3C7-25C6F43D6415">
       <span class="notetitle">
        Note:
       </span>
       After the value of the LISPSYS system variable has been changed, AutoCAD must be restarted for the change to take affect.
      </div>
     </li>
    </ul>
   </div>
   <div class="section" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__SECTION_DD8BBA34B3BF496EB81AAF6AD63322E8">
    <h2 class="title sectiontitle">
     Examples
    </h2>
    <div class="section" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-761C115F-32FC-474A-A03B-9ACC2237FDA5">
     <dl class="dl" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-761C115F-32FC-474A-A03B-9ACC2237FDA5">
      <dt class="dt dlterm">
       Windows
      </dt>
      <dd class="dd" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-1B634A4A-645B-4EA2-B93F-AB96A058A59A">
       <pre class="pre codeblock prettyprint"><strong class="ph b" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-6B413DC4-3959-4E5E-B0AD-68324D0297A8">(vl-directory-files "c:/acadwin" "acad*.exe")</strong>
("ACAD.EXE" "ACADAPP.EXE" "ACADL.EXE" "ACADPS.EXE")

<strong class="ph b" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-42DB9A71-DE42-48D4-AB57-E046DDD200A1">(vl-directory-files "e:/acadwin" nil -1)</strong>
("." ".." "SUPPORT" "SAMPLE" "ADS" "FONTS" "IGESFONT" "SOURCE" "ASE")

<strong class="ph b" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-3E26AA85-9222-4F14-AE1E-530A16EAAF00">(vl-directory-files "E:/acad" nil -1)</strong>
("." ".." "WIN" "COM" "DOS")</pre>
      </dd>
      <dt class="dt dlterm">
       Mac OS
      </dt>
      <dd class="dd" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-126FC8EA-BFA3-402E-8505-6A594581CC36">
       <pre class="pre codeblock prettyprint"><strong class="ph b" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-852D98AB-7DC4-42D6-AF13-6AFCAAB113AA">(vl-directory-files "/myutilities/lsp" "*.lsp")</strong>
(".DS_Store" "utilities.lsp" "blk-insert.lsp")

<strong class="ph b" id="GUID-C28C0CB0-FBBE-4AA8-BAC4-2FF222772514__GUID-F8F0220C-4399-421E-9D1F-8D4D870D3E53">(vl-directory-files "/myutilities" nil -1)</strong>
("." ".." "Help" "Lsp" "Support")</pre>
      </dd>
      <dt class="dt dlterm">
       Web
      </dt>
      <dd class="dd">
       <pre class="pre codeblock prettyprint"><strong class="ph b">(vl-directory-files "/acad/Support" "*.lin")</strong>
("acad.lin")

<strong class="ph b">(vl-directory-files "/acad/Support" nil -1)</strong>
("." "..")</pre>
      </dd>
     </dl>
    </div>
   </div>
  </div>
  <div class="related-links">
   <div class="relinfo relconcepts">
    <h4 class="related">
     Related Concepts
    </h4>
    <ul>
     <li>
      <a class="link" href="../Functions_By_Functionality/File_Handling_Functions_Reference_AutoLISP.html">
       File-Handling Functions Reference (AutoLISP)
      </a>
     </li>
    </ul>
   </div>
   <div class="relinfo relref">
    <h4 class="related">
     Related Reference
    </h4>
    <ul>
     <li>
      <a class="link" href="../F_Functions/findfile_AutoLISP.html" title="Searches the AutoCAD library and trusted paths for the specified file or directory">
       findfile (AutoLISP)
      </a>
     </li>
     <li>
      <a class="link" href="../G_Functions/getfiled_AutoLISP.html" title="Prompts the user for a file name with the standard AutoCAD file dialog box, and returns that file name">
       getfiled (AutoLISP)
      </a>
     </li>
     <li>
      <a class="link" href="../F_Functions/findtrustedfile_AutoLISP.html" title="Searches the AutoCAD trusted locations for the specified file">
       findtrustedfile (AutoLISP)
      </a>
     </li>
     <li>
      <a class="link" href="vl_mkdir_AutoLISP.html" title="Creates a directory">
       vl-mkdir (AutoLISP)
      </a>
     </li>
    </ul>
   </div>
  </div>
 </body>
</html>
