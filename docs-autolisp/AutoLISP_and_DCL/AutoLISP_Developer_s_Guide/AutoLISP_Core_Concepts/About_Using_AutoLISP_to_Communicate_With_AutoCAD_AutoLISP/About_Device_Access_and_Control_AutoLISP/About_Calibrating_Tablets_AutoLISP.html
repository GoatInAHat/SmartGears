<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="concept" name="topic-type"/>
  <meta content="/view/OARX/2025/ENU/" name="helpsystempath"/>
  <meta content="OARX" name="product"/>
  <meta content="2025" name="release"/>
  <meta content="Developer" name="book"/>
  <meta content="AutoCAD-AutoLISP" name="component"/>
  <meta content="21/10/2024" name="created"/>
  <meta content="ACD=2025" name="applies-to"/>
  <meta content="ACAD_E=2025" name="applies-to"/>
  <meta content="AMECH_PP=2025" name="applies-to"/>
  <meta content="ARCHDESK=2025" name="applies-to"/>
  <meta content="BLDSYS=2025" name="applies-to"/>
  <meta content="CIV3D=2025" name="applies-to"/>
  <meta content="MAP=2025" name="applies-to"/>
  <meta content="PLNT3D=2025" name="applies-to"/>
  <meta content="PNID=2025" name="applies-to"/>
  <meta content="STRDET=2025" name="applies-to"/>
  <meta content="UTLDESN=2025" name="applies-to"/>
  <meta content="TRIDION" name="generatedby"/>
  <meta content="disable" name="user-comments"/>
  <meta content="Digitizing tablets can be calibrated using the TABLET command or with the AutoLISP tablet function." name="description"/>
  <meta content="general" name="experiencelevel"/>
  <meta content="programmer" name="audience"/>
  <meta content="02/12/2019" name="modified"/>
  <meta content="autolisp" name="topic-subtype"/>
  <meta content="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0" name="topicid"/>
  <meta content="ENU" name="language"/>
  <title>
   About Calibrating Tablets (AutoLISP)
  </title>
  <link href="../../../../../_assets/client-28da4093.css" rel="stylesheet" type="text/css"/>
 </head>
 <body id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0">
  <div class="head">
   <div class="head-block">
    <div class="button-info">
     <span id="infoline">
     </span>
    </div>
    <div class="ancestry">
    </div>
    <div class="head-text">
     <h1>
      About Calibrating Tablets (AutoLISP)
     </h1>
    </div>
   </div>
  </div>
  <div class="body conbody">
   <p class="shortdesc">
    Digitizing tablets can be calibrated using the TABLET command or with the AutoLISP tablet function.
   </p>
   <div class="note important" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-3E232ED0-FE0F-4DC7-94B8-E50986F67AEB">
    <span class="importanttitle">
     Important:
    </span>
    Tablet support is limited to Windows only.
   </div>
   <p class="p" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-83802A7C-6D3B-4629-9F12-D1D116E77AFB">
    The
    <samp class="ph codeph" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-9B612161-6F74-4323-BD53-421FE51B9948">
     tablet
    </samp>
    function enables applications to manage calibration settings directly and by saving those settings for future use. The first argument to the
    <samp class="ph codeph" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-584702A6-A667-4223-8918-6C71BA3653EE">
     tablet
    </samp>
    function is an integer
    <em class="ph i" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-46E350D5-D7EF-485D-BF61-D262E2F007D1">
     code
    </em>
    . If
    <em class="ph i" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-92CA288D-9D0A-459F-B371-8537921E0E36">
     code
    </em>
    is equal to 0, the function returns the current calibration. If code is equal to 1, the calibration is set according to the remaining arguments. Calibrations are expressed as four 3D points (in addition to the
    <em class="ph i" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-D944F197-3438-47DD-91CC-277E0F9B9C27">
     code
    </em>
    ).
   </p>
   <p class="p" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-F46C949D-1509-4F72-8798-8176B2EE18FD">
    The first three points—
    <em class="ph i" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-E305FC2D-F73C-4729-A26E-B5524B40AD42">
     row1
    </em>
    ,
    <em class="ph i" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-479FDC28-3998-4AE0-890F-8ECDC3A4E2A9">
     row2
    </em>
    , and
    <em class="ph i" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-2F3AFC8A-7882-4543-ACD5-162B41344487">
     row3
    </em>
    —are the three rows of the tablet's transformation matrix. The fourth point,
    <em class="ph i" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-420E6152-BBB6-4D41-99C1-1749E3A5A2E9">
     direction
    </em>
    , is a vector that is normal to the plane in which the tablet's surface is assumed to lie (expressed in WCS, the World Coordinate System). When the calibration is set with the TABLET command, the tablet's surface is assumed to lie in the
    <em class="ph i" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-B1B7B058-004E-4053-9917-4BEFFD516FCC">
     XY
    </em>
    plane of the current UCS.
   </p>
   <div class="note note" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__WS1A9193826455F5FF-4855151011E21CB4C05-5E7F">
    <span class="notetitle">
     Note:
    </span>
    The TABMODE system variable controls whether Tablet mode is turned on (1) or off (0). You can control it by using the
    <samp class="ph codeph" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-EAAB67EC-9593-47B9-86D5-DBF64CC2E765">
     setvar
    </samp>
    function.
   </div>
   <p class="p" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__WSFACF1429558A55DE11F0759FF1E4B858C-6436">
    The following code retrieves the current tablet calibration and stores it in the variable
    <samp class="ph codeph" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-C0285468-AB48-41A6-BB20-2027AD011899">
     tcal
    </samp>
    :
   </p>
   <pre class="pre codeblock prettyprint">(defun C:TABGET ()
  (setq tcal (tablet 0))
  (if tcal
    (princ
      (strcat "\nConfiguration saved, "
              "use TABSET to retrieve calibration."
      )
    )
    (princ "\nCalibration not obtainable ")
  )
 (princ)
)</pre>
   <p class="p" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__WSFACF1429558A55DE11F0759FF1E4B858C-6435">
    If the TABGET command was successful, the
    <samp class="ph codeph" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-55659127-5E6A-487F-B041-2FB83E6FDECD">
     tcal
    </samp>
    variable now contains a list returned by the tablet function. This list might appear as follows:
   </p>
   <pre class="pre codeblock prettyprint">(1 (0.00561717 -0.000978942 -7.5171)
  (0.000978942 0.00561717 -9.17308)
  (0.0 0.0 1.0)
  (0.0 0.0 1.0)
)</pre>
   <p class="p" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__WSFACF1429558A55DE11F0759FF1E4B858C-6434">
    To reset the calibration to the values retrieved by the preceding routine, you can use the following code:
   </p>
   <pre class="pre codeblock prettyprint">(defun C:TABSET ()
  (if (not (apply 'tablet tcal))
    (princ "\nUnable to reset calibration. ")
    (progn
      (princ "\nTablet calibration reset. ")
      (setvar "tabmode" 1)
      (if (= (getvar "tabmode") 0)
        (princ "\nUnable to turn on tablet mode ")
      )
    )
  )
 (princ)
)</pre>
   <div class="section" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__SECTION_9F9FE41D363B4D83B17FF4DB0DB71B4C">
    <h2 class="title sectiontitle">
     Defining the Transformation Matrix for a Tablet
    </h2>
    <p class="p" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-C3A82880-B43B-47E6-A0EF-815CF53376D2">
     Arguments
     <em class="ph i" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-9526C031-DD12-49A7-A437-FAB8B21C8A91">
      row1
     </em>
     ,
     <em class="ph i" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-5AEF6414-6E1D-407E-8062-8D3ECDE35B61">
      row2
     </em>
     , and
     <em class="ph i" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-0C97C21C-5CA2-4FFD-AC30-FD48DCC78461">
      row3
     </em>
     are passed as a 3×3 transformation matrix which is meant to transform a 2D point. The 2D point is expressed as a column vector in homogeneous coordinates (by appending 1.0 as the third element), so the transformation looks like this:
    </p>
    <div class="fig fignone" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__WS73099CC142F4875516D84BE10EBC87A53F-79C5">
     <img class="image" height="96" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__IMAGE_A0D5617052E241808E4F742C551EEA76" src="../../../../../_assets/GUID_DACFA669_4BF0_4BA9_9D66_BCD185BE2DEC-c76cb4e8.png" width="504"/>
    </div>
    <p class="p" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__WSFACF1429558A55DE11F0759FF1E4B858C-6432">
     The calculation of a point is similar to the 3D case. AutoCAD transforms the point by using the following formulas:
    </p>
    <div class="fig fignone" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__WS73099CC142F4875516D84BE10EBC87A53F-79C4">
     <img class="image" height="85" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__IMAGE_41D4EA1C44BD4979BD6D83069A101D9B" src="../../../../../_assets/GUID_24C35C46_A129_4A7A_8AA6_8221E3B6C3C9-c61eba06.png" width="504"/>
    </div>
    <p class="p" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__WSFACF1429558A55DE11F0759FF1E4B858C-6431">
     The resulting vector from the transformation can be turned back into a 2D point by dividing the first two (X',Y') components by the third component (the scale factor D') yielding. The resulting 2D point looks like (X'/D',Y'/D').
    </p>
    <p class="p" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-10881CF7-3222-4422-AD52-AAF86960901E">
     For projective transformations, the most general case,
     <samp class="ph codeph" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-A9F8414A-8B2D-4DD6-88A2-FDB2FAF3CA6F">
      tablet
     </samp>
     does the full calculation. But for affine and orthogonal transformations, M
     <sub class="ph sub" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-C2E032B1-77EA-4390-8F1E-DD8334D07F6E">
      <span class="ph" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-F96C5B3C-8AE2-4A13-8597-7207E4F364FA">
       20
      </span>
     </sub>
     and M
     <sub class="ph sub" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-ECB2057B-279F-4013-94E7-4D2472C89119">
      <span class="ph" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-8937445F-74AF-499E-A419-2756BAE73FAF">
       21
      </span>
     </sub>
     are both 0, so D' would be 1.0. The calculation of D' and the division are omitted; the resulting 2D point is simply (X',Y').
    </p>
    <p class="p" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-35130C4B-A2A8-477C-9604-D077CE06B948">
     As the previous paragraph implies, an affine transformation is a special, uniform case of a projective transformation. An orthogonal transformation is a special case of an affine transformation: not only are M
     <sub class="ph sub" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-9C98A826-E3AA-48E3-9742-3CE142FD44AE">
      <span class="ph" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-05665635-4EB9-4B17-AC78-9FC01EF16C0E">
       20
      </span>
     </sub>
     and M
     <sub class="ph sub" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-00699B8A-AEA9-4605-A11D-F7A849FCA35C">
      <span class="ph" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-118C98C6-83ED-4B72-8483-65703DC5FA53">
       21
      </span>
     </sub>
     zero, but M
     <sub class="ph sub" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-F0ED5BE7-2478-44F7-AA27-A382902FD2E5">
      <span class="ph" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-F447DAAC-1605-46DE-AB5F-2DE9A4880268">
       00
      </span>
     </sub>
     = M
     <sub class="ph sub" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-C63889FD-57F5-4755-BAF8-07F94713A7D7">
      <span class="ph" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-2AF8A5EB-E6BE-4124-B37D-1E78F1C60854">
       11
      </span>
     </sub>
     and M
     <sub class="ph sub" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-3920242D-17F8-4B73-AF7E-45421FAF10DA">
      <span class="ph" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-5F1E5AEC-CB80-4894-A30E-DA18577C53BC">
       10
      </span>
     </sub>
     = -M
     <sub class="ph sub" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-5CF7FFBA-7246-4B5B-8658-C774300F7B23">
      <span class="ph" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-9F45003C-2191-402B-8BCE-08C4EF8045C8">
       01
      </span>
     </sub>
     .
    </p>
    <div class="note note" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-7B00431E-183F-4B1A-8DE1-D5B8535993AB">
     <span class="notetitle">
      Note:
     </span>
     When you set a calibration, the list returned does not equal the list provided if the
     <em class="ph i" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-93841C68-022A-4635-BDE1-29E94F2AF070">
      direction
     </em>
     is not normalized. AutoCAD normalizes the direction vector before it returns it. Also, it ensures the third element in the third column (
     <em class="ph i" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-A0AF6906-D576-4FDD-9994-66B031E2D43C">
      row3
     </em>
     <samp class="ph codeph" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-46CCA7B7-591B-49FC-9C2D-25D4936F8C02">
      [Z]
     </samp>
     ) is equal to 1. This situation should not arise if you set the calibration by using values retrieved from AutoCAD by means of
     <samp class="ph codeph" id="GUID-3790F2E6-439A-4FC3-A4BB-61116508B4D0__GUID-16131359-7DF3-42D2-8B19-0A6F2661CB49">
      tablet
     </samp>
     . However, it can happen if your program calculates the transformation itself.
    </div>
   </div>
  </div>
  <div class="related-links">
   <div class="familylinks">
    <div class="parentlink">
     <strong>
      Parent topic:
     </strong>
     <a class="link" href="About_Device_Access_and_Control_AutoLISP.html">
      About Device Access and Control (AutoLISP)
     </a>
    </div>
   </div>
   <div class="relinfo relconcepts">
    <h4 class="related">
     Related Concepts
    </h4>
    <ul>
     <li>
      <a class="link" href="../About_Display_Control_AutoLISP/About_Controlling_Menus_AutoLISP.html" title="The menucmd function controls the display of the menus on the menu bar, drawing area, or an image title menu.">
       About Controlling Menus (AutoLISP)
      </a>
     </li>
     <li>
      <a class="link" href="../About_Accessing_Commands_and_Services_AutoLISP/About_System_and_Environment_Variables_AutoLISP.html" title="AutoLISP applications can inspect and change the value of AutoCAD system variables with the getvar and setvar functions.">
       About System and Environment Variables (AutoLISP)
      </a>
     </li>
     <li>
      <a class="link" href="../About_Accessing_Commands_and_Services_AutoLISP/About_Configuration_Files_AutoLISP.html" title="AutoCAD uses a configuration file with the name acadxxxx.cfg to store device and application information.">
       About Configuration Files (AutoLISP)
      </a>
     </li>
     <li>
      <a class="link" href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?v=2025&amp;p=OARX&amp;l=ENU&amp;accessmode=live&amp;guid=GUID-018821E0-23F6-43F0-9548-6ABC70A180A0">
       Device Access Functions Reference (AutoLISP)
      </a>
     </li>
    </ul>
   </div>
  </div>
 </body>
</html>
